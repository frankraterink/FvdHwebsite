$(function(){function t(){p=$("body"),b=$(".testform"),m=$("#name"),g=$("#address"),C=$("#address-number"),y=$("#address-addition"),T=$("#zip"),A=$(".submit-button"),k=$("#city"),g.blur(function(){var t=$(this)[0].value;e(t)}),C.blur(function(){var t=$(this)[0].value;o(t)}),y.blur(function(){var t=$(this)[0].value;s(t)}),T.blur(function(){var t=$(this)[0].value;a(t)}),k.blur(function(){var t=$(this)[0].value;u(t)}),b.find("input[type=text]").click(function(){b.removeClass("address-complete")}),A.focus(function(){c()}),p.click(function(){n()}),p.keydown(function(t){13==t.which&&(A.is(":focus")||(t.preventDefault(),A.focus()))}),p.keyup(function(){n()})}function n(){var t=b.find("input[type=text]").is(":focus");m.val()&&g.val()&&C.val()&&T.val()&&k.val()&&!t?b.addClass("address-complete"):t&&b.removeClass("address-complete")}function e(t){if(!U){var n=t.split(" "),e=n.length,s="",o="",a=!1,u="";$(n).each(function(t,n){if(t++,d(n)||n==s);else if(h(n))o=n;else if("string"==typeof n&&(t!=e||1==t)||""==o&&!h(n.charAt(0)))s=""==s?n:s+" "+n;else if("string"==typeof n&&t==e)for(i=0;i<n.length;i++){var c=n.charAt(i);!a&&h(c)?o+=c:(a=!0,u+=c)}}),r(s),l(o),v(u),(""!=o||""!=u)&&T.focus()}}function s(t){""==t&&b.removeClass("both-visible"),y.val(y.val().toUpperCase())}function o(t){var n="",e="",s=!1;for(i=0;i<t.length;i++){var o=t.charAt(i);" "!=o&&(!s&&h(o)?n+=o:(s=!0,e+=o))}l(n),""!=e&&v(e)}function a(t){if(""!=t){var n="",e="",s=!1;for(i=0;i<t.length;i++){var o=t.charAt(i);h(o)&&!s&&" "!=o?n+=o:(s=!0," "!=o&&(e+=o))}var a=n+" "+e.toUpperCase();T.val(a)}}function u(t){var i=t.split(" "),n="";$(i).each(function(t,i){i.length>2&&(i=i.substring(0,1).toUpperCase()+i.substring(1,i.length)),n=""==n?i:n+" "+i}),k.val(n)}function c(){f()}function f(){""==m.val()?setTimeout(function(){m.focus()},0):""==g.val()?setTimeout(function(){g.focus()},0):""==C.val()?setTimeout(function(){C.focus()},600):""==T.val()?setTimeout(function(){T.focus()},0):""==k.val()&&setTimeout(function(){k.focus()},0)}function r(t){""!=t&&$("#address").val(t)}function l(t){""!=t?($("#address-number").val(t),U=!0):U=!1}function v(t){""!=t?($("#address-addition").val(t.toUpperCase()),b.addClass("both-visible"),U=!0):(b.removeClass("both-visible"),U=!1)}function d(t){return 0==t.length}function h(t){return!isNaN(parseFloat(t))&&isFinite(t)}var p,b,m,g,C,y,T,k,A,U=!1;t()});