$(function(){function t(){p=$("body"),m=$(".testform"),b=m.find("[data-role=name]"),g=m.find("[data-role=address]"),C=m.find("[data-role=address-number]"),y=m.find("[data-role=address-addition]"),A=m.find("[data-role=zip]"),T=m.find("[data-role=city]"),k=m.find("[data-role=submit]"),g.blur(function(){var t=$(this)[0].value;e(t)}),C.blur(function(){var t=$(this)[0].value;o(t)}),y.blur(function(){var t=$(this)[0].value;a(t)}),A.blur(function(){var t=$(this)[0].value;s(t)}),T.blur(function(){var t=$(this)[0].value;u(t)}),m.find("input[type=text]").click(function(){m.removeClass("address-complete")}),k.focus(function(){r()});var t=navigator.userAgent,i=t.match(/iPad/i)?"touchstart":"click";$(document).on(i,function(){m.blur(),n()}),p.keydown(function(t){13==t.which&&(k.is(":focus")||(t.preventDefault(),k.focus()))}),p.keyup(function(){n()})}function n(){var t=m.find("input[type=text]").is(":focus");b.val()&&g.val()&&C.val()&&A.val()&&T.val()&&!t?m.addClass("address-complete"):t&&m.removeClass("address-complete")}function e(t){if(!U){var n=t.split(" "),e=n.length,a="",o="",s=!1,u="";$(n).each(function(t,n){if(t++,d(n)||n==a);else if(h(n))o=n;else if("string"==typeof n&&(t!=e||1==t)||""==o&&!h(n.charAt(0)))a=""==a?n:a+" "+n;else if("string"==typeof n&&t==e)for(i=0;i<n.length;i++){var r=n.charAt(i);!s&&h(r)?o+=r:(s=!0,u+=r)}}),l(a),c(o),v(u),(""!=o||""!=u)&&A.focus()}}function a(t){""==t&&m.removeClass("both-visible"),y.val(y.val().toUpperCase())}function o(t){var n="",e="",a=!1;for(i=0;i<t.length;i++){var o=t.charAt(i);" "!=o&&(!a&&h(o)?n+=o:(a=!0,e+=o))}c(n),""!=e&&v(e)}function s(t){if(""!=t){var n="",e="",a=!1;for(i=0;i<t.length;i++){var o=t.charAt(i);h(o)&&!a&&" "!=o?n+=o:(a=!0," "!=o&&(e+=o))}var s=n+" "+e.toUpperCase();A.val(s)}}function u(t){var i=t.split(" "),n="";$(i).each(function(t,i){i.length>2&&(i=i.substring(0,1).toUpperCase()+i.substring(1,i.length)),n=""==n?i:n+" "+i}),T.val(n)}function r(){f()}function f(){""==b.val()?setTimeout(function(){b.focus()},0):""==g.val()?setTimeout(function(){g.focus()},0):""==C.val()?setTimeout(function(){C.focus()},600):""==A.val()?setTimeout(function(){A.focus()},0):""==T.val()&&setTimeout(function(){T.focus()},0)}function l(t){""!=t&&$("#address").val(t)}function c(t){""!=t?($("#address-number").val(t),U=!0):U=!1}function v(t){""!=t?($("#address-addition").val(t.toUpperCase()),m.addClass("both-visible"),U=!0):(m.removeClass("both-visible"),U=!1)}function d(t){return 0==t.length}function h(t){return!isNaN(parseFloat(t))&&isFinite(t)}var p,m,b,g,C,y,A,T,k,U=!1;t()});