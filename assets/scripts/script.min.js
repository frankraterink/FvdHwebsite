$(function(){function a(){l=$("[data-role=wall]"),d=$("body"),f=$("[data-role=homepageLogo]"),p=0,h=l.length,o(),u||n(),i(),e()}function e(){d.keydown(function(a){var e=$("[data-role=galleryMap]");e.each(function(e,n){var o=$(n);if(t(n)){var i=o.find(".active");return 37==a.keyCode||38==a.keyCode?(a.preventDefault(),i.prev().is("a")&&r(i.prev().attr("data-photolink"))):39==a.keyCode||40==a.keyCode?(a.preventDefault(),i.next().is("a")&&r(i.next().attr("data-photolink"))):8==a.keyCode&&(a.preventDefault(),window.location.href="index.html"),!1}})})}function t(a){var e=$(window).scrollTop(),t=e+$(window).height(),n=$(a).offset().top,o=n+$(a).height();return t>=o&&n>=e}function n(){h>0&&l.each(function(a,e){{var t=$(e).find("img"),n=t.attr("data-highResUrl");t.attr("src",n)}})}function o(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(u=!0)}function i(){var a=d.hasClass("gallery-page");if(h>0&&a){var e=$('<div class="gallery-map" data-role="galleryMap"></div>');l.each(function(a){var t=a+1,n=$('<a href="#'+t+'" data-role="galleryMapLink" data-photolink="'+t+'">foto '+t+"</a>");e.append(n)}),l.each(function(a,t){var n=$(t),o=e.clone(),i="[data-photolink="+(a+1)+"]";o.find(i).addClass("active"),n.append(o)}),c=$('[data-role="galleryMapLink"]'),c.each(function(a,e){$(e).click(function(a){a.preventDefault();var t=$(e).attr("data-photolink");r(t)})})}}function r(a){$("html,body").scrollTop($("#"+a).offset().top)}var l,d,c,f,p,h,u=!1;a()});