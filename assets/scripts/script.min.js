$(function(){function a(){d=$("[data-role=wall]"),c=$("body"),p=$("[data-role=homepageLogo]"),h=0,u=d.length,o(),v||n(),i(),e(),l()}function e(){c.keydown(function(a){var e=$("[data-role=galleryMap]");e.each(function(e,n){var o=$(n);if(t(n)){var i=o.find(".active");return 37==a.keyCode||38==a.keyCode?(a.preventDefault(),i.prev().is("a")&&r(i.prev().attr("data-photolink"))):39==a.keyCode||40==a.keyCode?(a.preventDefault(),i.next().is("a")&&r(i.next().attr("data-photolink"))):8==a.keyCode&&(a.preventDefault(),window.location.href="index.html"),!1}})})}function t(a){var e=$(window).scrollTop(),t=e+$(window).height(),n=$(a).offset().top,o=n+$(a).height();return t>=o&&n>=e}function n(){u>0&&d.each(function(a,e){{var t=$(e).find("img"),n=t.attr("data-highResUrl");t.attr("src",n)}})}function o(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(v=!0)}function i(){var a=c.hasClass("gallery-page");if(u>0&&a){var e=$('<div class="gallery-map" data-role="galleryMap"></div>');d.each(function(a){var t=a+1,n=$('<a href="#'+t+'" data-role="galleryMapLink" data-photolink="'+t+'">foto '+t+"</a>");e.append(n)}),d.each(function(a,t){var n=$(t),o=e.clone(),i="[data-photolink="+(a+1)+"]";o.find(i).addClass("active"),n.append(o)}),f=$('[data-role="galleryMapLink"]'),f.each(function(a,e){$(e).click(function(a){a.preventDefault();var t=$(e).attr("data-photolink");r(t)})})}}function r(a){$("html,body").scrollTop($("#"+a).offset().top)}function l(){cheet("↑ ↑ ↓ ↓ ← → ← → b a",function(){console.log("konami to be implemented")})}var d,c,f,p,h,u,v=!1;a()});